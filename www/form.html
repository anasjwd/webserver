<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- <link rel="stylesheet" href="./assets/css/style.css"> -->
		<link rel="icon" href="data:;base64,=">
		<title>Form Testing | 42 Webserv</title>
		<style>
			:root {
	--bg-color: #ffffff;
	--text-color: #333333;
	--primary-color: #0066cc;
	--secondary-color: #f0f0f0;
	--card-bg: #ffffff;
	--nav-bg: #0066cc;
	--nav-text: #ffffff;
	--footer-bg: #0066cc;
	--footer-text: #ffffff;
	--border-color: #dddddd;
	--code-bg: #f5f5f5;
	--code-text: #333333;
}

.dark-mode {
	--bg-color: #1a1a1a;
	--text-color: #e0e0e0;
	--primary-color: #778da9;
	--secondary-color: #0d1b2a;
	--card-bg: #0d1b2a;
	--nav-bg: #0d1b2a;
	--nav-text: #e0e0e0;
	--footer-bg: #0d1b2a;
	--footer-text: #e0e0e0;
	--border-color: #415a77;
	--code-bg: #1a1a1a;
	--code-text: #e0e0e0;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	font-family: 'Courier New', monospace;
	transition: background-color 0.3s, color 0.3s;
}

body {
	background-color: var(--bg-color);
	color: var(--text-color);
	line-height: 1.6;
	display: flex;
	flex-direction: column;
	min-height: 100vh;
}

nav {
	background-color: var(--nav-bg);
	padding: 1rem 2rem;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	position: relative;
}

.nav-container {
	display: flex;
	justify-content: space-between;
	align-items: center;
	max-width: 1200px;
	margin: 0 auto;
}

.logo {
	color: var(--nav-text);
	font-weight: bold;
	font-size: 1.5rem;
	text-decoration: none;
}

.nav-links {
	display: flex;
	list-style: none;
	align-items: center;
}

.nav-links li {
	margin-left: 2rem;
}

.nav-links a {
	color: var(--nav-text);
	text-decoration: none;
	font-weight: 500;
	transition: all 0.3s;
	padding: 0.5rem 1rem;
	border-radius: 4px;
}

.nav-links a:hover {
	background-color: rgba(255, 255, 255, 0.2);
}

.theme-toggle {
	background: none;
	border: none;
	color: var(--nav-text);
	cursor: pointer;
	font-size: 1.2rem;
	margin-left: 2rem;
}

.main-content {
	flex: 1;
}

.container {
	max-width: 1200px;
	margin: 2rem auto;
	padding: 0 2rem;
}

h1, h2, h3 {
	color: var(--primary-color);
	margin-bottom: 1rem;
}

h1 {
    text-align: center;
    color: var(--primary-color);
    margin-bottom: 1rem;
}

.cgi-card {
    position: relative;
    overflow: hidden;
}

.cgi-card pre {
    display: none;
    margin-top: 1rem;
}

.cgi-card .btn {
    margin-top: 1rem;
}

.cgi-card.active pre {
    display: block;
}

.description {
	max-width: 800px;
	margin: 0 auto 2rem;
	text-align: center;
	color: var(--text-color);
}

.features {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
	gap: 2rem;
	margin-top: 3rem;
}

.feature-card, .content-section, .cgi-card, .team-member {
	background: var(--card-bg);
	padding: 2rem;
	border-radius: 8px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
	transition: all 0.3s;
	border: 1px solid var(--border-color);
	margin-bottom: 2rem;
}

.feature-card:hover, .cgi-card:hover {
	transform: translateY(-5px);
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.cgi-examples {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: 2rem;
	margin-top: 2rem;
}

.cgi-card h3 {
	display: flex;
	align-items: center;
}

.cgi-card h3 span {
	margin-right: 0.5rem;
}

.team-member {
	padding: 1.5rem;
}

pre {
	background: var(--code-bg);
	color: var(--code-text);
	padding: 1rem;
	border-radius: 4px;
	overflow-x: auto;
	border: 1px solid var(--border-color);
	margin: 1rem 0;
	font-size: 0.9rem;
}

code {
	font-family: 'Courier New', monospace;
}

.btn {
	display: inline-block;
	background-color: var(--primary-color);
	color: white;
	padding: 0.5rem 1rem;
	border-radius: 4px;
	text-decoration: none;
	margin-top: 1rem;
	transition: background-color 0.3s;
}

.btn:hover {
	background-color: #004d99;
}

.project-components {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: 2rem;
	margin-top: 2rem;
}

.component-card {
	background: var(--card-bg);
	padding: 1.5rem;
	border-radius: 8px;
	border: 1px solid var(--border-color);
	transition: all 0.3s;
}

.component-card:hover {
	transform: translateY(-3px);
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.component-card h3 {
	color: var(--primary-color);
	margin-bottom: 1rem;
	display: flex;
	align-items: center;
}

.component-card h3 span {
	margin-right: 0.8rem;
	font-size: 1.2rem;
}

.team-members {
	display: flex;
	flex-wrap: wrap;
	gap: 1.5rem;
	margin-top: 2rem;
}

.member-card {
	flex: 1;
	min-width: 250px;
	background: var(--card-bg);
	padding: 1.5rem;
	border-radius: 8px;
	border: 1px solid var(--border-color);
}

.member-card h4 {
	color: var(--primary-color);
	margin-bottom: 0.5rem;
}

.member-role {
	font-style: italic;
	color: var(--text-color);
	opacity: 0.8;
	margin-bottom: 1rem;
}

footer {
	text-align: center;
	padding: 2rem;
	background-color: var(--footer-bg);
	color: var(--footer-text);
	margin-top: auto;
}

			.form-container {
				max-width: 800px;
				margin: 2rem auto;
				padding: 2rem;
				background: var(--card-bg);
				border-radius: 8px;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
			}

			.form-group {
				margin-bottom: 1.5rem;
			}

			label {
				display: block;
				margin-bottom: 0.5rem;
				font-weight: 600;
				color: var(--text-color);
			}

			input[type="text"],
			input[type="email"],
			input[type="password"],
			textarea,
			select {
				width: 100%;
				padding: 0.75rem;
				border: 1px solid var(--border-color);
				border-radius: 4px;
				background: var(--input-bg);
				color: var(--text-color);
				font-size: 1rem;
			}

			textarea {
				min-height: 120px;
				resize: vertical;
			}

			.file-upload {
				display: flex;
				flex-direction: column;
				gap: 1rem;
			}

			.file-upload-preview {
				max-width: 200px;
				max-height: 200px;
				display: none;
				border-radius: 4px;
				border: 1px dashed var(--border-color);
			}

			.submit-btn {
				background: var(--primary-color);
				color: white;
				border: none;
				padding: 0.75rem 1.5rem;
				border-radius: 4px;
				cursor: pointer;
				font-size: 1rem;
				font-weight: 600;
				transition: background 0.3s;
			}

			.submit-btn:hover {
				background: var(--primary-hover);
			}

			.response-container {
				margin-top: 2rem;
				padding: 1rem;
				border-radius: 4px;
				display: none;
			}

			.success {
				background: #d4edda;
				color: #155724;
				border: 1px solid #c3e6cb;
			}

			.error {
				background: #f8d7da;
				color: #721c24;
				border: 1px solid #f5c6cb;
			}
		</style>
	</head>
	<body>
		<nav>
			<div class="nav-container">
				<a href="index.html" class="logo">42 Webserv</a>
				<ul class="nav-links">
					<li><a href="index.html">Home</a></li>
					<li><a href="form.html">ReqTests</a></li>
					<li><a href="cgi.html">The CGI</a></li>
					<li><a href="about.html">About</a></li>
					<li><button class="theme-toggle" id="themeToggle">🌙</button></li>
				</ul>
			</div>
		</nav>

		<div class="main-content">
			<div class="container">
				<header>
					<h1>Form Testing Page</h1>
					<p class="description">
						Test various HTTP POST requests and file uploads with our webserver implementation.
						This page includes different form types to verify your server's handling of form data,
						file uploads, and different content types.
					</p>
				</header>

				<!-- <div class="form-container">
					<h2>Standard Form Submission</h2>
					<form id="standardForm" action="./form.html" method="POST">
						<div class="form-group">
							<label for="username">Username</label>
							<input type="text" id="username" name="username" required>
						</div>

						<div class="form-group">
							<label for="email">Email</label>
							<input type="email" id="email" name="email" required>
						</div>

						<div class="form-group">
							<label for="password">Password</label>
							<input type="password" id="password" name="password" required>
						</div>

						<div class="form-group">
							<label for="message">Message</label>
							<textarea id="message" name="message" required></textarea>
						</div>

						<button type="submit" class="submit-btn">Submit Form</button>
					</form>

					<div id="standardResponse" class="response-container"></div>
				</div> -->

				<div class="form-container">
					<h2>File Upload</h2>
					<form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
						<div class="form-group">
							<label for="fileDescription">File Description</label>
							<input type="text" id="fileDescription" name="description">
						</div>

						<div class="form-group file-upload">
							<label for="fileInput">Choose a file to upload</label>
							<input type="file" id="fileInput" name="file" required>
							<img id="filePreview" class="file-upload-preview" alt="File preview">
						</div>

						<button type="submit" class="submit-btn">Upload File</button>
					</form>

					<div id="uploadResponse" class="response-container"></div>
				</div>

				<!-- <div class="form-container">
					<h2>JSON Test</h2>
					<form id="jsonForm">
						<div class="form-group">
							<label for="apiEndpoint">API Endpoint</label>
							<input type="text" id="apiEndpoint" value="/api/data" readonly>
						</div>

						<div class="form-group">
							<label for="jsonData">JSON Data</label>
							<textarea id="jsonData" name="jsonData">{
		"name": "Test User",
		"age": 25,
		"interests": ["programming", "web development"]
	}</textarea>
						</div>

						<button type="button" id="sendJson" class="submit-btn">Send JSON</button>
					</form>

					<div id="jsonResponse" class="response-container"></div>
				</div> -->

			</div>
		</div>

		<footer>
			<p><b>© 2025 42 Webserv Project |</b> Created by 
			<b>GEET (Alassiqu, Ajawad, Ahanaf)</b></p>
		</footer>

		<!-- <script src="./assets/js/script.js"></script> -->
		<script>
			const themeToggle = document.getElementById('themeToggle');
const body = document.body;

const savedTheme = localStorage.getItem('theme');
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
    body.classList.add('dark-mode');
    themeToggle.textContent = '☀️';
}

themeToggle.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');
    themeToggle.textContent = isDark ? '☀️' : '🌙';
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
});

			// File upload preview
			document.getElementById('fileInput').addEventListener('change', function(e) {
				const file = e.target.files[0];
				const preview = document.getElementById('filePreview');
				
				if (file) {
					if (file.type.startsWith('image/')) {
						const reader = new FileReader();
						reader.onload = function(e) {
							preview.src = e.target.result;
							preview.style.display = 'block';
						}
						reader.readAsDataURL(file);
					} else {
						preview.style.display = 'none';
					}
				}
			});

			// Form submission handlers
			document.getElementById('standardForm').addEventListener('submit', function(e) {
				e.preventDefault();
				const formData = new FormData(this);
				
				fetch(this.action, {
					method: 'POST',
					body: formData
				})
				.then(response => response.text())
				.then(data => {
					const responseDiv = document.getElementById('standardResponse');
					responseDiv.textContent = data;
					responseDiv.className = 'response-container success';
					responseDiv.style.display = 'block';
				})
				.catch(error => {
					const responseDiv = document.getElementById('standardResponse');
					responseDiv.textContent = 'Error: ' + error.message;
					responseDiv.className = 'response-container error';
					responseDiv.style.display = 'block';
				});
			});

			document.getElementById('uploadForm').addEventListener('submit', function(e) {
				e.preventDefault();
				const formData = new FormData(this);
				
				fetch(this.action, {
					method: 'POST',
					body: formData
				})
				.then(response => response.text())
				.then(data => {
					const responseDiv = document.getElementById('uploadResponse');
					responseDiv.textContent = data;
					responseDiv.className = 'response-container success';
					responseDiv.style.display = 'block';
				})
				.catch(error => {
					const responseDiv = document.getElementById('uploadResponse');
					responseDiv.textContent = 'Error: ' + error.message;
					responseDiv.className = 'response-container error';
					responseDiv.style.display = 'block';
				});
			});

			document.getElementById('sendJson').addEventListener('click', function() {
				const jsonData = document.getElementById('jsonData').value;
				const endpoint = document.getElementById('apiEndpoint').value;
				
				try {
					// Validate JSON
					JSON.parse(jsonData);
					
					fetch(endpoint, {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: jsonData
					})
					.then(response => response.text())
					.then(data => {
						const responseDiv = document.getElementById('jsonResponse');
						responseDiv.textContent = data;
						responseDiv.className = 'response-container success';
						responseDiv.style.display = 'block';
					})
					.catch(error => {
						const responseDiv = document.getElementById('jsonResponse');
						responseDiv.textContent = 'Error: ' + error.message;
						responseDiv.className = 'response-container error';
						responseDiv.style.display = 'block';
					});
				} catch (e) {
					const responseDiv = document.getElementById('jsonResponse');
					responseDiv.textContent = 'Invalid JSON: ' + e.message;
					responseDiv.className = 'response-container error';
					responseDiv.style.display = 'block';
				}
			});
		</script>
	</body>
</html>